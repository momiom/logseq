- Git のデータはプロジェクトルートの .git ディレクトリに入っている
	- objects ディレクトリ内に実際のファイルが入っている
- Git には記録したい変更のみを抜き出す場所として**ステージングエリア**がある
	- 変更したすべてのファイルが問答無用でコミット対象になると、コミットを意味のある単位で分けられない
	- せっかくコミットにはコミットメッセージが書けるので、コミットメッセージに何を何のために修正したのかを記載し、それにあった変更のみが記録されているほうが管理しやすい
- コミットを作成するまでの流れ
	- ファイルを変更する
	- ファイルの変更をステージングエリアに移動する（ステージする・ステージング）
	- コミットメッセージを記載する
	- コミットコマンドを実行する
- 実際にやってみる
	- リポジトリを作成
		- `git init`
			- ```
			  > git init
			  Initialized empty Git repository /tmp/sample-repo/.git/
			  ```
	- .git/objects の中身を表示
		- `ll .git/objects`
			- ```
			  > tree .git/objects
			  .git/objects
			  |-- info
			  `-- pack
			  
			  ```
			- info, pack はデフォルトで存在するディレクトリ
			- tree はファイルの階層をいい感じに表示するコマンド
	- ファイルを作成
		- `vim benkyokai.txt`
			- ```
			  hello
			  ```
	- リポジトリの状態を確認
		- `git status`
			- ```
			  ```
	- ステージングエリアに移動（= この変更分を加える）
		- `git add README.md`
		- `git status`
			- ```
			  > git status
			  On branch master
			  
			  No commits yet
			  
			  Changes to be committed:
			    (use "git rm --cached <file>..." to unstage)
			          new file:   README.md
			  ```
		- この時点で .git/objects にデータが作られている
			- `tree -a .git/objects`
				- ```
				  > tree .git/objects
				  .git/objects
				  |-- ce
				  |   `-- 013625030ba8dba906f756967f9e9ca394464a
				  |-- info
				  `-- pack
				  ```
			- ファイルの内容のハッシュ値の内、上二桁がディレクトリに、それ以降がファイル名になっている
				- つまり生成されたハッシュ値は `ce013625030ba8dba906f756967f9e9ca394464a`
				- このファイルは圧縮されていてそのままでは読めない
				- `git cat-file -p ハッシュ値` で読める
					- `git cat-file -p a543`
						- ```
						  > git cat-file -p ce01
						  hello
						  ```
			- このハッシュ値は `blob {ファイルのバイト数}\0{ファイルの内容}` を SHA-1 でハッシュ化すると得られる (`{}`は括弧ごと置換)
			- ```
			  > echo "blob $(wc -c ./hello.txt | awk '{print $1}')\0$(cat ./hello.txt)" | openssl sha1
			  ce013625030ba8dba906f756967f9e9ca394464a
			  ```
			- 生成方法はともかく、**ファイルの内容がハッシュ化されている**ことが重要
	- コミットする
		- `git commit -m “最初のコミット”`
			- ```
			  > git commit -m "最初のコミット"
			  [master (root-commit) 7e38add] 最初のコミット
			   1 file changed, 1 insertion(+)
			   create mode 100644 benkyokai.txt
			  ```
		- .git/objects を見てみる
			- ``
-
- 本当に頭のいい構造
	- ファイル名を blob に持たないことで、名前が異なるが内容が同じファイルを重複なく扱える
-
- [[コミットとは何か]]に従えば、同じコミットを元にして、ファイルAを編集してコミット、ファイルBを編集してコミットすると二又に分岐する
  要図
	- 分岐させるのにブランチは必要ない
	- では [[なぜブランチを使うのか]]